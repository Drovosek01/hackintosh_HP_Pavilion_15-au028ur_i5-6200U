# Что я делал при установки Hackintosh на ноутбук

Эту инструкцию я писал для себя, чтобы после переустановки не вспоминать что и как делать. Инструкция написана после установки macOS Mojave 10.14.5. на ноутбук HP Pavilion 15-au028ur.

## Характеристики ноутбука HP Pavilion 15-au028ur

* Процессор
  * Intel Core i5-6200U 2.3GHz, Turbobust 2.8GHz, Skylake
* Видеокарта
  * Intel HD Graphics 520
  * Nvidia Geforce 940MX
* ОЗУ
  * DDR4 2133MHz
* Системная плата
  * HP 820C v82.39
* BIOS
  * HP Insyde F.52
* Звуковой адаптер
  * Realtek ALC 295
* Bluetooth
  * Realtek Bluetooth 4.0 Adapter
* Wifi
  * Realtek RTL8723BE 802.11 bgn Wi-Fi Adapter
* Ethernet
  * Realtek RTL8139/810x Fast Ethernet Adapter
* Card Reader
  * Realtek PCI-E Card Reader

## Что получилось и не получилось "оживить"

### Что работает

* Графика Intel HD Graphics 520
* Графическое ускорение Inte Quick Sync
* TurboBust
* SpeedStep
* Регулировка яркости клавишами Fn+F2 / Fn+F3, как уменьшение и увеличение яркости соответственно 
  (так же как и в Windows 10, я специально сделал их активныцию только вместе с Fn)
* Регулировка звука клавишами Fn+F6 / Fn+F7 / Fn+F8, как "Без звука", уменьшение громкости и увеличение громкости соответственно
* Регулировка аудио воспроизведения клавишами Fn+F10 / Fn+F11 / Fn+F12, как включение предыдущего трека, вопроизведение или пауза, включение слудующего трека
* Регулировка подсветки клавиатуры работает с помощью Fn+F5, но яркость подсветки клавиатуры никак не регулируется и, скорее всего, ее использование не связано с другими F клавишами
* Тачпад как Apple Magic Trackpad - работают почти все жесты
* USB 3.0 и Usb 2.0 порты
* Сон
* Порт 3.5 mini Jack для наушников
* Встроенные динамики
* Стерео микрофоны
* Веб-камера
* Ethernet
* Numpad
* Отображение заряда батареи (работает не всегда корректно, часто приходится сбрасывать CMOS в ноутбуке, зажав кнопку питания на ~20 секунд)

### Что не работает

* Wifi
* Bluetooth
* Nvidia Geforce 940MX (Nvidia Optimus)

### Что не проверено

* Card Reader
* HDMI
* Дисковод (он распознается в macOS и его можно даже открыть нажав пару кнопок в интерфейсе, но у меня нет DVD/CD дисков, чтобы проверить работу дисковода)


## Создание загрузочной флешки

1. Скачиваем BootDiskUtility
2. Скачиваем оригинальный образ macOS Mojave 10.14.5
3. В BDU ????

## Настройка загрузочной флешки

После создания флешки с загрузчиком Clover и самой системой MacOSX, нужно настроить флешку, а точнее загрузчик, потому что просто так MacOSX на компьютер не от Apple не установится из-за отсутствия некоторых различий в оборудовании между Apple компьютерами и обычными ПК или ноутбуками.

### Используемые драйвера

[Список драйверов](/Configuring/InstalledDrivers.md)

### Настройка файла config.plist



### Используемые кексты

todo



## Установка macOS Mojave 10.14.5

1. Стандартная установка macOS
2. Разбить диск на разделы сейчас или потом ?????

## Настройка macOS

1. В терминале вводим `sudo spctl --master-disable`, чтобы отключить Gatekeeper и устанавливать приложениея не только из MacAppstore
2. Включить TRIM для SSD дисков с помощью команды в терминале `sudo trimforce enable`
3. Настроить Finder:
    * (Все указанные пункты должны быть отмечены, а не указанные - выключены)
    * В "Основные"
      * Показывать на рабочем столе
        * Жесткие диски
        * Внешние диски
        * CD, DVD и iPod
      * Показывать в новых окнах Finder "<имя_пользователя>"
    * В "Боковое меню"
      * В "Избранное" отметить по усмотрению
      * В "Места" отметить все пункты
      * Включить "Недавние теги"
    * В "Дополнения"
      * Включить "Показывать все расширения имен файлов"
      * Включить "Предупреждать при изменении расширения"
      * Включить "Показывать предупреждение перед удалением из iCloud Drive"
      * Включить "Предупреждать при очистке корзины"
      * Включить "Отображать папки вверху списка"
        * "В окнах при сортировке по имени"
        * "На рабочем столе"
      * Включить "При выполнении поиска Искать на этом Mac"
    * Настроить "Панель инструментов" - открыть любую папку, ПКМ по панели инструментов и выбрать удобные пункты (Создать новую папку, Информация о выделенном, Удалить выделенное)
4. В "Системные настройки"
    * В "Основные"
      * Выбрать оформление "Темное"
      * Выбрать "Спрашивать, сохранять ли изменения при закрытии документа"
      * Выбрать "Веер-браузер по умолчанию" - Google Chrome
      * Возможно отключить сглаживание шрифтов, чтобы убрать жирность у текста
    * В "Рабочий стол и заставка"
      * Выбрать фон для рабочего стола
      * Во вкладке "Заставка" выбрать заставку, время через которое она запускается и отметить пункт "Показывать с часами"
    * В "Dock"
      * Отрегулировать размер Dock
      * Отрегулировать увеличение иконок при наведении курсора на них
    * В "Мониторы" открыть вкладку "Цвета" и выбрать sRGB
    * В "Экономия энергии" настроить режимы при питании от батареи и от розетки
    * Настроить "Мышь"
    * В "Пользователи и группы" открыть "Параметры входа" и установить автоматический вход для пользователя
    * В "Общий доступ" изменить или оставить имя компьютера
    * В "Клавиатура" нажать "Клавиши модификации"и поменять местами Command и Ctrl
    * В "Универсальный доступ"
      * В "Увеличение" включить и настроить увеличение по удобству (до этого решить нужно ли менять местами Ctrl и Command)
      * В "Мышь и трекпад" в "Параметры трекпада"
5. Удалить из Dock лишние программы
6. Перекинуть файл `MyKeyboardBundle.bundle` в `/Library/Keyboard Layouts` и в `/System/Library/Keyboard Layouts` или сделать этот файл с помощью программы Ukelele и [гайда](https://www.youtube.com/watch?v=Ll6UGWGSSv8). Потом перейти в "Системные настройки", "Клавиатура", "Источники ввода" и добавить новую раскладку и удалить Русскую раскладку.

## Установка программ

### Программы первой необходимости

Если у вас hackintosh, а не настоящий Apple компьютер, то рекомендую, чтобы эти программы всегда были установлены в вашей системе. Эти программы входят в состав программ из списка Hackintosh Tools, но они являются наиболее необходимыми.

1. Clover Bootloader https://sourceforge.net/projects/cloverefiboot/
2. CloverConfigurator https://mackie100projects.altervista.org/download-clover-configurator/
3. Plist Edit Pro https://www.fatcatsoftware.com/plisteditpro/

### Hackintosh программы

Эти программы программы используются в основном для настройки Hackintosh, как рабочий инструмент macOS они вам вряд ли пригодятся. Часть этих программ желательно оставить в вашем hackintosh на тот случай, если что-то пойдет не так и система начнет "выпендриваться", ведь не все могут определить насколько правильно и насколько полноценно настроен ваш hackintosh.

[Hackintosh tools](/ProgramsList/HackintoshTools.md)

### Программы-фреймворки для работы других программ

Эти программы нужны для работы других программ или скриптов. В основном это используется разными разработчиками. Если они вам понадобятся, то вы и без этого списка будете знать, какая программа вам нужны.

[Other Software](/ProgramsList/OtherSoftware.md)

### Устанавливаемое ПО

Большинство прогамм из этого списка я использую в повседневной работе. Естественно, список не самый полный, смотрите и решайте по своим потребностям.

[Regular Software](/ProgramsList/RegularSoftware.md)