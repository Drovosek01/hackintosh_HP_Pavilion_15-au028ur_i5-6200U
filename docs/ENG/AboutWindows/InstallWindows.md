## Windows setup

In MacOSX, you need to select a partition for Windows. You need to separate some space, such as in a Disk utility, and format the new partition into an MS-DOS or FAT file system. I recommend a separate partition for 30+ GB. Later, during the Windows installation, in the partition window, you will need to select the partition that you have separated in MacOSX and install Windows on it. You can, of course, delete this partition during Windows installation and re-create or format it before installation, but usually it is not required.

Create a bootable USB flash drive with Windows convenient for you. I used the original Windows 10 ISO image with the latest updates and the rufus utility to create a bootable USB flash drive. After creating a bootable USB stick do not remove it from the USB port, reboot into the bootloader Clover and it already select the item that appears with the installation of Windows. If the item with the installation of Windows you do not appear, there are several reasons why it happened:

- I once had that rufus made a bootable USB flash drive with EFI partition which was in NTFS format and as far as I remember, Clover couldn't read information from such partition. For this you need [to download the NTFS driver.efi](https://applelife.ru/threads/clover.42089/) and put in the folder with all the drivers for Clover.
- You may have disabled scanning of Legacy partitions, although I'm not sure it affects anything. The parameter is located in the config in `GUI > Scan > Legacy` or some other parameter next to it. To show the sections hidden in Clover, press F3 (or Fn+F3) in the Clover interface.
- You have a bad boot drive.

After installing Windows and restarting you are likely to stop loading Clover, and will immediately start Windows. There are several ways to solve this problem.

- The most effective way to solve the problem is that in BIOS/UEFI you need to choose .efi clover file on ESP. It is located at the following path: `/EFI/CLOVER/CLOVERX64.efi`. This is the best option, but not all BIOS have the ability to select a file from which you can download (On my laptop was not). Save the BIOS/UEFI and after a reboot you need to run Clover.
- Windows may have overwritten the main boot file on the ESP, which is located in `/EFI/BOOT`. You should go to this folder and look at the file name, then put the file `/EFI/CLOVER/CLOVERX64 ' in this folder instead.efi` and call it the same. My file in `/EFI/BOOT` was called `BOOTX64.efi`.  Reboot and you should start Clover.
- You need to go to `/EFI/Microsoft/Boot` folder and bootmgfw file in ESP.rename efi to bootmgfw-orig.efi and restart your computer and you should be running Clover. This method is not very good, because after obnovleniya Windows 10 can create the file bootmgfw.efi and then you will again stop running Clover.
- The costal margin but also a working method and as a Windows update can break this method. The ESP file is `/EFI/Microsoft/Boot/bootmgfw.efi` (sometimes called bootmgrfw.efi) rename in any other, for example mywin.efi. Then the file `/EFI/CLOVER/CLOVERX64.efi` move to `/EFI/Microsoft/Boot` and call bootmgfw.efi. Then act according to [the instructions from the forum 4pda](https://4pda.ru/forum/index.php?showtopic=84979&view=findpost&p=79185441).

Then I recommend creating 3 partition to be used for file sharing between Windows and MacOSX. The fact is that without special programs Windows can not read and write data to a partition with the file system HFS+ or APFS. MacOSX can read data from an NTFS file system partition, but cannot write data to it.  Of course there are third-party programs to fix this problem, but you can do without them.

Both Windows and MacOSX can write and read data to the ExFat file system. In MacOSX You need to separate a partition in Disk utility and format it in exFAT file system or in Windows in "disk Management", compress some NTFS partition, and then format it in ExFat. This exFAT partition will be the partition for the files and the files that you moved/copied to the exFAT file system will be available in Windows.

I have 3 partitions on SSD: NTFS, APFS, ExFat. Partition with the file system ExFat I made under Mac OS x and when I'm out from under MaOSX him move large files, such as .mp4 file of size ~5GB. Then when you boot into Windows, this file is not visible even if you enable the display of system files. The file becomes visible in Windows only after reboot. I do not know what this is connected with, but some people say that if the ExFat partition was created from under Windows, then such a problem would not be.